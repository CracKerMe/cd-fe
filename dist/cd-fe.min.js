/*! cd-fe v1.0.5 | (c) 2021-present Apple Sun | MIT */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).cdFe=t()}(this,(function(){"use strict";const e=(e,t,n)=>{let o;return function(){const s=this,i=arguments,r=function(){o=null,n||e.apply(s,i)},c=n&&!o;clearTimeout(o),o=setTimeout(r,t),c&&e.apply(s,i)}};function t(e,t){try{const n=document.createEvent("Event");n.initEvent(t,!0,!0),e.dispatchEvent(n)}catch(n){e.fireEvent(`on${t}`)}}function n(e,t){return new RegExp(`(^|\\s)${t}(\\s|$)`).test(e.className)}function o(e,t){if(n(e,t))return;const o=e.className.split(" ");o.push(t),e.className=o.join(" ")}const s={animation:"fade",className:{inView:"scrollSpy-inview",init:"scrollSpy-init"},repeat:!0,delay:0,topOffset:0,leftOffset:0};class i{constructor(t,n){this.options={...s,...n},this.element=t,document.addEventListener("scroll",(()=>{this.checkView(),window.requestAnimationFrame})),document.addEventListener("resize.scrollspy",e(this.checkView,50)),document.addEventListener("orientationchange.scrollspy",e(this.checkView,50)),this.timer=this.inViewState=this.initInView=null,this.checkView()}checkView(){const e=this.element,{options:s}=this,i=((e,t)=>{const n=document.documentElement;if(!e.offsetWidth&&!e.offsetHeight||"none"===e.style.display)return!1;const o=n.scrollLeft,s=n.scrollTop,i=function(e){let t=e.offsetLeft,n=e.offsetParent;for(;null!==n;)t+=n.offsetLeft,n=n.offsetParent;return t}(e),r=function(e){let t=e.offsetTop,n=e.offsetParent;for(;null!==n;)t+=n.offsetTop,n=n.offsetParent;return t}(e),c={topOffset:0,leftOffset:0,...t};return r+e.offsetHeight>=s&&r-c.topOffset<=s+document.documentElement.clientHeight&&i+e.offsetWidth>=o&&i-c.leftOffset<=o+document.documentElement.clientWidth})(e,s),r=s.animation?` animation-${s.animation}`:"";i&&!this.inViewState&&(this.timer&&clearTimeout(this.timer),this.initInView||(o(e,s.className.init),this.initInView=!0,t(e,"init.scrollspy")),this.timer=setTimeout((()=>{i&&o(e,s.className.inView+r)}),s.delay),this.inViewState=!0,t(e,"inview.scrollspy")),!i&&this.inViewState&&s.repeat&&(!function(e,t){if(!n(e,t))return;const o=new RegExp(`(^|\\s)${t}(\\s|$)`,"g");e.className=e.className.replace(o," ")}(e,s.className.inView+r),this.inViewState=!1,t(e,"outview.scrollspy"))}}const r=window,c=document,l=c.documentElement,a=["dark","light"],d=window.localStorage.getItem("awm-color-mode")||"system";let f="system"===d?w():d;const m=c.body.getAttribute("data-color-mode-forced");m&&(f=m),h(f);const u={preference:d,value:f,getColorScheme:w,addClass:h,removeClass:function(e){const t=e+"-mode";l.classList?l.classList.remove(t):l.className=l.className.replace(new RegExp(t,"g"),"")}};function h(e){const t=e+"-mode";l.classList?l.classList.add(t):l.className+=" "+t}function p(e){return r.matchMedia("(prefers-color-scheme"+e+")")}function w(){if(r.matchMedia&&"not all"!==p("").media)for(const e of a)if(p(":"+e).matches)return e;return"light"}matchMedia("(prefers-color-scheme: dark)").addListener((e=>{"system"===u.preference&&(u.removeClass("light"),u.removeClass("dark"),u.addClass(u.getColorScheme()))}));return{appendCss:function(...e){return Promise.all(e.map((e=>new Promise(((t,n)=>{const o=document.head||document.body||document.documentElement;if(o.querySelector(`link[href*="${e}"]`))return void t(e);const s=document.createElement("link"),i=()=>{s.onerror=null,s.onload=null};s.onerror=()=>{i(),n(new Error(`加载样式失败: ${e}`))},s.onload=()=>{i(),t(e)},s.href=e,s.rel="stylesheet",o.appendChild(s)})))))},appendJs:function(...e){return Promise.all(e.map((e=>new Promise(((t,n)=>{const o=document.head||document.body||document.documentElement;if(o.querySelector(`script[src*="${e}"]`))return void t(e);const s=document.createElement("script"),i=()=>{s.onerror=null,s.onload=null};s.onerror=()=>{i(),n(new Error(`加载script失败: ${e}`))},s.onload=()=>{i(),t(e)},s.async=!0,s.src=e,o.appendChild(s)})))))},scrollSpy:function(...e){return"init"===e[0]&&document.querySelectorAll("[data-scrollspy]").forEach((e=>{const t=e.getAttribute("data-scrollspy");new i(e,new Function("getJsonValueCus",`return ${t}`)())})),new i(...e)},ColorMode:u}}));